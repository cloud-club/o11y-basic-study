# Chapter 6: Grasp the Need for OpenTelemetry

## Category of Log/Metric Shipper

Because the book introduced prom-tail things in previous chapter, I've got confused.  
So that I've investigated the category of log/metric shipper first.

1. OpenTelemetry Collector
   - for distirbuted tracing, metrics and logs
   - Integrates collection of telemetry data sources
2. Fluentd
   - ETL for log
3. Beats
   - Lightweight data shippers
   - Divided into Filebeat, Metricbeat, Packetbeat, Winlogbeat, Heartbeat
   - depends on ELK stack
4. Logstash
   - ETL for (usually) log
   - can filter complicated condition rather than Beats
   - Also can be used as a data integration tool ( ex => several data sources -> logstash -> elasticsearch )
   - depends on ELK stack
5. Prometheus Exporter
   - for metrics
   - not ingest metrics, but expose metrics to Prometheus (Prometheus scrape metrics)
6. Promtail
   - Log shipper for Loki
7. Vector
   - High-performance and lightweight version of Logstash
   - based on Rust
   - [Article](https://toss.tech/article/slash23-data) about performance improvement based on Vector

## Why OpenTelemetry?

So I've been curious that why the book introduced OpenTelemetry in this chapters.

OpenTelemetry Collector

- OpenTelemetry Collector can collect Log, Metric, Tracing concurrently.
- So that it can be used as a unified telemetry data collector.
- Not only for convenience but also for `observability` (which is the main topic of this book)

## Observability Architecture based on OpenTelemetry

- ![Architecture](https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt38b47d752e0e13d6/63daddbac8540a111ada8c83/diagram-opentelemetry-support-apm-full-width.png)

## OpenTelemetry Components

- API
  - Standardized interface for generating data from applications
- SDK
  - Library for collecting/processing data generated by API
- Collector
  - Independent service that ETL data from external sources

## Pros of OpenTelemetry (Building base of observability)

- Root Cause Analysis
- Event Analysis synchronized with `time`
- Effective debugging & alerting
- Correlation Analysis
- Overall understand of system health

## Cons of OpenTelemetry

- Performance overhead
- Immature ecosystem
- Use cases/purpose are not yet certain than traditional APM
  - example
    - ![Elastic Search's observability architecture](https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/bltca0b61a36ceed6e0/646cef5b22bbf72e9fc9cb7a/diagram-opentelemetry-api-sdk-with-elastic-apm-agents.png)
- High learning curve

## Discussion

- Honestly, I don't know the actual difference between OpenTelemetry and APM

## etc
