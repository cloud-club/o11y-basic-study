# 오픈텔레메트리

### 오픈텔레메트리란

- 클라우드 네이티브 환경에서 애플리케이션의 관찰 가능성(observability)를 제공하기 위한 오픈소스 프로젝트
- 애플리케이션에서 생성되는 로그, 메트릭, 트레이스 데이터를 수집, 처리, 내보내기 하는데 필요한 표준화된 API, SDK 및 도구를 제공

</br>

# 오픈텔레메트리 구성 요소

### 신호

- 메트릭
    - 시스템 및 애플리케이션의 성능을 나타내는 수치 데이터
    - 주요 지표: CPU 사용률, 메모리 소비량, 요청 속도 등
- 로그
    - 애플리케이션의 이벤트를 기록하는 데이터
    - 오류 및 상태를 분석하거나 디버깅에 사용
- 추적
    - 분산 트랜잭션을 추적하는 데이터
    - 서비스 간 요청 흐름을 이해하고 병목 지점을 식별

### 콘텍스트 전파

- 분산 시스템에서 요청의 상태와 메타데이터를 서비스 간에 전달하는 메커니즘
- 사용자가 API를 호출하면 이 요청이 여러 마이크로서비스를 거칠 때, 각 서비스가 동일한 요청에 속한다는 사실을 인식할 수 있도록 함

### 파이프라인

- 오픈텔레메트리 데이터를 수집, 처리, 전송하는 데이터 흐름을 나타냄
- 프로바이더
    - 파이프라인의 시작점으로, 애플리케이션에서 데이터를 생성하기 위한 기본 설정을 정의
- 텔레메트리 생성기
    - API를 통해 데이터를 실제로 생성
- 프로세서
    - 생성된 데이터를 가공, 필터링, 집계하거나 추가 처리
- 익스포터
    - 처리된 데이터를 외부 관찰 가능성 도구로 전송

</br>

# 신호 구성요소

### 데이터 모델

- 관찰 가능성 데이터를 나타내기 위한 표준화된 데이터 모델 제공
- 주요 데이터 유형: 스팬, 메트릭, 로그

### API

- 개발자가 관찰 가능성 데이터를 수집할 수 있도록 API 제공
- 데이터 생성 및 관리의 표준 인터페이스 정의

### SDK

- API에서 생성된 데이터를 처리하고 내보내는 로직을 포함
- 데이터 전송, 필터링, 샘플링 정책을 구성하여 사용자 맞춤형 데이터 처리를 구현할 수 있음

### 계층 라이브러리

- 코드를 계측하기 위한 라이브러리
    - 자동 계측: 미들웨어나 패키지를 통해 애플리케이션에 트레이싱, 메트릭 기능을 자동으로 추가
    - 수동 계측: 사용자가 직접 API를 호출하여 원하는 데이터를 정읳고 수집

### 리소스

- 관찰 가능성 데이터를 생성하는 엔터티에 대한 메타데이터
- ex) 호스트 이름, 컨테이너 ID, 클라우드 리전, 애플리케이션 이름

### 배기지

- 요청 간 전파되는 사용자 정의 메타데이터
- 분산 시스템에서 공통 정보를 전파하여 트레이스 간 관계를 유지

### 이벤트

- 스팬 내부에서 발생한 특정 시점을 기록하는 데이터
- 스팬 내에서 의미 있는 작업이나 상태를 나타냄

### 링크

- 여러 스팬 간의 관계를 나타냄
- 특정 스팬이 여러 트레이스 간 연결이 필요한 경우 사용